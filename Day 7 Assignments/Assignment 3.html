

<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="refresh" content="250"/>
	<title>Assignment 3- Async Await and Fetch API</title>
	<!-- CSS only -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
	
</head>
<body>
	<h1>Async Await and Fetch API</h1>
	<div class="container-fluid">
  		<div class="row bg-light">
  			<div id = "substring" class="col border">Kindly open the console

    		</div>
              <script type="text/javascript">
                var for1=Math.ceil(Math.random()*10);
                console.log('Number of entries to be loaded is  '+ for1);
    		  	    async function start(){
                        var id=Math.ceil(Math.random()*200);
                        console.log('ids to be laoded is  '+ id);
                    let response = await fetch(`https://jsonplaceholder.typicode.com/todos/${id}`);
                    let data = await response.json()
                    return data;
                    }
                for(var i=0;i<for1;i++){
                    start()
                    .then(data => console.log(data)); }
                    // const obj=[];
                    // var a=Math.ceil(Math.random()*200);
                    
                    // const fetchPromise =await fetch('https://jsonplaceholder.typicode.com/todos/')
                    // .then(response => response.json())
                    // .then(json =>{ obj.push(json);
                    // console.log(json)
                    // });
                    // let result =await fetchPromise.then(Object.values(fetchPromise).forEach(json =>{if(json.id==a)console.log(json)}));

                    // console.log(a);
                    

                
    		  </script>
    		</div>
    		</div>
	
	<!-- JS, Popper.js, and jQuery -->
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>